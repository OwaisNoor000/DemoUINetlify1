const notification = document.querySelector(".profile-notification-status-dot"),
friendRequest = document.querySelector(".friend-request-notification-status-dot"),
message = document.querySelector(".chat-notification-status-dot");

setInterval(allNotif, 100);

function allNotif(){
    messageNotif();
    friendNotif();
}
function messageNotif(){
    let xhr = new XMLHttpRequest();
    xhr.open("GET","notifications/notification-status.php",true);
    xhr.onload = ()=>{
        if(xhr.readyState === XMLHttpRequest.DONE){
            if(xhr.status === 200){
                let data = xhr.response;
                message.innerHTML = data;
            }
        }
    }
    xhr.send();
}

function friendNotif(){
    let fr = new XMLHttpRequest();
    fr.open("GET","notifications/friend-request-status.php",true);
    fr.onload = ()=>{
        if(fr.readyState === XMLHttpRequest.DONE){
            if(fr.status === 200){
                let data_fr = fr.response;
                friendRequest.innerHTML = data_fr;
            }
        }
    }
    fr.send();

    if(message.innerHTML !== '' || friendRequest.innerHTML !== ''){        
        notification.innerHTML = "<i class='fa fa-circle'></i>";
    }
    else{
        notification.innerHTML = "";
    }
}